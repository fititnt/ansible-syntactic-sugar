---
# FILE: {{ role_path }}/defaults/main.yml

a2s_betatesting: false

a2s_autoinstall_dependencies: false
a2s_autoinstall_repositories: false

# Customize these values if you don't want specify always on subcomponents like
# sample-content-cdn, sample-content-php, sample-content-static-site ...
a2s_default_user: "{{ a2s_internal_root_user }}"
a2s_default_group: "{{ a2s_internal_root_group }}"
a2s_default_httpuser: "{{ a2s_internal_httpuser }}" # very likely 'www-data'
a2s_default_httpgroup: "{{ a2s_internal_httpgroup }}" # very likely 'www-data'

# Permission; Check mode param from https://docs.ansible.com/ansible/latest/modules/file_module.html
a2s_default_directory_mode: "0755"
a2s_default_file_mode: "0644"

## If using devel-nginx AND running on containers without systemd
## If using hosts and have have issues to write on /etc/hosts
# Set a2s_isconteiner: true to not make this role try enable a service
a2s_isconteiner: false

### Adminer ____________________________________________________________________
a2s__adminer:
  # download_url: "https://github.com/vrana/adminer/releases/download/v4.7.5/adminer-4.7.5.php"
  download_url: "https://www.adminer.org/latest.php"
  install_directory: "/opt/adminer/"
  # install_directory_create: true # this is also a valid value if you don't whant customize
  # Remove install_directory_create if you dont want create install directory
  install_directory_create:
    owner: "{{ a2s_internal_root_user }}"
    group: "{{ a2s_internal_root_group }}"
    mode: "0755"
  install_file: "index.php"
  force_update: true

### Composer ____________________________________________________________________
a2s__composer:
  # download_url: "https://getcomposer.org/installer"
  version: '' # Change this to specify a custom version if don't want lastest
  force_update: false
  path: /usr/local/bin
  user: "{{ a2s_internal_root_user }}" # root

### PHP ________________________________________________________________________
a2s_php_debug: no

## PHP 5.6
a2s_php_php56_enabled: false
a2s_php_php56_state: present
a2s_php_php56_packages:
  - php5.6-common
  - php5.6-fpm
  - php5.6-gd
  - php5.6-curl
  - php5.6-zip
  - php5.6-mysql
  - php5.6-imagick
  - php5.6-geoip
  - php5.6-intl
  - php5.6-mbstring

## PHP 7.0
a2s_php_php70_enabled: false
a2s_php_php70_state: present
a2s_php_php70_packages:
  - php7.0-common
  - php7.0-fpm
  - php7.0-gd
  - php7.0-curl
  - php7.0-zip
  - php7.0-mysql
  - php7.0-imagick
  - php7.0-geoip
  - php7.0-intl
  - php7.0-mbstring

## PHP 7.1
a2s_php_php71_enabled: false
a2s_php_php71_state: present
a2s_php_php71_packages:
  - php7.1-common
  - php7.1-fpm
  - php7.1-gd
  - php7.1-curl
  - php7.1-zip
  - php7.1-mysql
  - php7.1-imagick
  - php7.1-geoip
  - php7.1-intl
  - php7.1-mbstring

## PHP 7.2
a2s_php_php72_enabled: false
a2s_php_php72_state: present
a2s_php_php72_packages:
  - php7.2-common
  - php7.2-fpm
  - php7.2-gd
  - php7.2-curl
  - php7.2-zip
  - php7.2-mysql
  - php7.2-imagick
  - php7.2-geoip
  - php7.2-intl
  - php7.2-mbstring

# PHP 7.3
a2s_php_php73_enabled: false
a2s_php_php73_state: present
a2s_php_php73_packages:
  - php7.3-common
  - php7.3-fpm
  - php7.3-gd
  - php7.3-curl
  - php7.3-zip
  - php7.3-mysql
  - php7.3-imagick
  - php7.3-geoip
  - php7.3-intl
  - php7.3-mbstring

a2s_php_php74_enabled: false
a2s_php_php74_state: present
a2s_php_php74_packages:
  - php7.4-common
  - php7.4-fpm
  - php7.4-gd
  - php7.4-curl
  - php7.4-zip
  - php7.4-mysql
  - php7.4-imagick
  - php7.4-geoip
  - php7.4-intl
  - php7.4-mbstring

a2s__template_phpfpmworker: "{{ role_path }}/templates/template/php-fpm-worker.conf.j2"
# a2s__phpfpm_worker_name: 'www'
a2s__phpfpm_user: "{{ a2s_default_httpuser }}"
a2s__phpfpm_group: "{{ a2s_default_httpgroup }}"
a2s__phpfpm_listen: '/run/php/php7.4-fpm.sock'
a2s__phpfpm_listen_owner: "{{ a2s__phpfpm_user }}"
a2s__phpfpm_listen_group: "{{ a2s__phpfpm_group }}"
a2s__phpfpm_listen_mode: "0660"
a2s__phpfpm_allowed_clients: 127.0.0.1
a2s__phpfpm_pm: 'dynamic'
a2s__phpfpm_pm_max_children: 5
a2s__phpfpm_pm_start_servers: 2
a2s__phpfpm_pm_min_spare_servers: 1
a2s__phpfpm_pm_max_spare_servers: 3
a2s__phpfpm_pm_max_requests: 3
